<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
            <title>Plugin Reference</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">Plugin Reference</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">documentation</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="docs/plugins/index.html#plugins" class="">Plugins</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="docs/plugins/managing-plugins.html#managing-plugins" class="">Managing Plugins</a>
                
            </li>
                    <li>
                <a href="docs/plugins/requirements.html#minimal-requirements" class="">Minimal requirements</a>
                
            </li>
                    <li>
                <a href="docs/plugins/composer.html#plugins-and-composer" class="">Plugins and composer</a>
                
            </li>
                    <li>
                <a href="docs/plugins/git.html#plugins-and-git" class="">Plugins and git</a>
                
            </li>
                    <li>
                <a href="docs/plugins/plugin-logic.html#plugin-logic" class="">Plugin Logic</a>
                
            </li>
                    <li>
                <a href="docs/plugins/how-to-write-plugin.html#writing-a-plugin" class="">Writing a plugin</a>
                
            </li>
                    <li>
                <a href="docs/plugins/eventy.html#plugin-events" class="">Plugin Events</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/app.html" class="">App</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/app-console.html" class="">Console</a>
                
            </li>
                    <li>
                <a href="namespaces/app-plugins.html" class="">Plugins</a>
                
            </li>
            </ul>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/scm.html" class="">Scm</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/scm-pluginsampletheming.html" class="">PluginSampleTheming</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/Application.html" class="">Application</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                        <div class="section" id="plugins-and-composer">
    <h1>Plugins and composer</h1>

            <p>The plugins use composer tool , that means they must have a composer.json file at the root of the plugin, even if they do not use any
third party libraries.</p>
            <div class="section" id="composer-json-fields">
    <h2>Composer.json fields</h2>

            <p>The composer json needs to have the following fields set up. See <a href="https://getcomposer.org/doc/04-schema.md">https://getcomposer.org/doc/04-schema.md</a> for valid fields</p>
            

<ul>
    <li>name - this needs to have at least two parts to this name A/B where A is the author or organization and B is the code&#039;s name of the plugin</li>

    <li>description - can be anything</li>

    <li>authors - at least one author</li>

    <li>the extra block</li>

</ul>

            <p>Each plugin must have its laravel registration options inside the extra block</p>
            <p>See <a href="https://laravel.com/docs/10.x/packages#package-discovery">https://laravel.com/docs/10.x/packages#package-discovery</a> for how to configure the composer.json</p>
            <p>Laravel uses the extra to register the service. There are four keys that are looked at by this code.
Any other information here is ignored by the plugin system.</p>
            <p>The four keys are in the laravel section:</p>
            

<ul>
    <li><strong>providers</strong>, need at least one provider, can register more than one here. This is used by the laravel core code.</li>

    <li><strong>aliases</strong>, optional, used when registering a facade or related resource. This is used by the the laravel core.</li>

    <li><dl>
                        <dt><strong>auto_publish_assets</strong>, for when the plugin wants to make public any images, css, js or other assets.</dt>
        
        <dd>

<ul>
    <li><em>&quot;alias&quot;</em> can be the same in different plugins, and is required. Its used to help make a path to the resource</li>

    <li><em>&quot;relative_path&quot;</em> is the location of the resource folder inside the plugin. All resources can be organized in multiple files and folders but must be under this path</li>

</ul>
</dd>    </dl>
</li>

    <li><strong>plugin_active</strong>, default is yes, when its value is no, or off, then the plugin is unregistered when the composer runs.</li>

</ul>

            <dl>
                        <dt>An example of the extra section for a plugin that registers one service, one fascade, has media to show would be</dt>
        
        <dd><pre><code class="language-json">&quot;extra&quot;: {
    &quot;laravel&quot;: {
        &quot;providers&quot;: [
            &quot;Scm\\PluginSampleTheming\\ScmSampleThemingProvider&quot;
        ],
        &quot;aliases&quot;: {
            &quot;ScmSampleTheming&quot;: &quot;Scm\\PluginSampleTheming\\Facades\\ScmSampleTheming&quot;
        },
        &quot;auto_publish_assets&quot; :
        {
            &quot;alias&quot;: &quot;resources&quot;,
            &quot;relative_path&quot;:&quot;resources/dist&quot;
        },
        &quot;plugin_active&quot;: &quot;yes&quot;
    }
}</code></pre></dd>    </dl>

    </div>

            <div class="section" id="composer-downloaded-library-locations">
    <h2>Composer downloaded library locations</h2>

            <p>The plugin system uses the composer merge tool at <a href="https://github.com/wikimedia/composer-merge-plugin">https://github.com/wikimedia/composer-merge-plugin</a>
This is already installed by the framework, which scans the plugin folder when composer commands are used in the main project.
During composer install or update all dependencies are installed and merged to the /vendor folder in the project root.
This means that any dependencies a plugin uses must be compatitble with the installed other packages from the framework
and all other installed plugins at composer.lock.</p>
            <p>If the plugin needs to use an incompatible library, it can save that library in a new namespace and not download it via composer</p>
            <div class="section" id="and-next">
    <h3>And next</h3>

            

<ul>
    <li class="dash"><a href="docs/plugins/git.html">Plugins and git</a>
 - Managing plugins with git</li>

</ul>

    </div>

    </div>

    </div>

                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="docs/plugins/composer.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>
